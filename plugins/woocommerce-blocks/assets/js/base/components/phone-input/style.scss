@import "/node_modules/intl-tel-input/build/css/intlTelInput.css";

/*.phone-country-combobox {
	height: 0;
	overflow: hidden;
}
.phone-country-combobox:focus-within {
	height: auto;
	overflow: visible;
}*/


.wc-block-components-form .wc-block-components-phone-input,
.wc-block-components-phone-input {
	position: relative;
	margin-top: $gap;
	white-space: nowrap;

	label.field-label {
		@include reset-color();
		@include reset-typography();
		@include font-size(regular);
		position: absolute;
		transform: translateY(em($gap));
		line-height: 1.25; // =20px when font-size is 16px.
		left: 79px;
		top: 0;
		transform-origin: top left;
		color: $universal-body-low-emphasis;
		transition: all 200ms ease;
		margin: 0;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: calc(100% - #{2 * $gap});
		cursor: text;

		.has-dark-controls & {
			color: $input-placeholder-dark;
		}
		@media screen and (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	.field-wrapper {
		width: 100%;
		margin: 0;
		box-sizing: border-box;
		min-height: 0;
		display: flex;
		border-radius: $universal-border-radius;

		input {
			background: none;
			font-size: inherit;
			font-family: inherit;
			outline: 0;
			padding: em($gap + $gap-smaller) em($gap-smaller) em($gap-smaller);
			margin: 0;
			color: $input-text-active;
			background-color: #fff;
			@include font-size(regular);
			line-height: em($gap);
			border-radius: 0 $universal-border-radius $universal-border-radius 0;
			border: 1px solid $universal-border-strong;
			border-left: 0;
			flex: 1;
		}

		.phone-input-country-button {
			appearance: none;
			border: 1px solid $universal-border-strong;
			border-radius: $universal-border-radius 0 0 $universal-border-radius;
			border-right: 0;
			background: white;
			margin: 0;
			outline: 0;
			@include font-size(regular);
			padding: 0 em($gap);
			line-height: em($gap);
			color: $input-text-active;
			width: 90px;
		}

		&:focus {
			background-color: #fff;
			color: $input-text-active;
			outline: 0;
			box-shadow: 0 0 0 1px $input-border-gray;
		}

		// .has-dark-controls & {
		// 	background-color: $input-background-dark;
		// 	border-color: $input-border-dark;
		// 	color: $input-text-dark;

		// 	&:focus {
		// 		background-color: $input-background-dark;
		// 		color: $input-text-dark;
		// 		box-shadow: 0 0 0 1px $input-border-dark;
		// 	}
		// }
	}

	&.is-active input[type="tel"] {
		padding: em($gap + $gap-smaller) em($gap-smaller) em($gap-smaller);
	}

	&.is-active label.field-label,
	input:-webkit-autofill + label.field-label {
		transform: translateY(em($gap-smaller)) scale(0.875);
	}

	input::placeholder {
		color: transparent;
	}
	&.is-active input::placeholder {
		color: $universal-body-low-emphasis;
	}
	.has-dark-controls &.is-active input::placeholder {
		color: $input-placeholder-dark;
	}

	&.has-error input {
		&,
		&:hover,
		&:focus,
		&:active {
			border-color: $alert-red;
		}
		&:focus {
			box-shadow: 0 0 0 1px $alert-red;
		}

		.has-dark-controls &,
		.has-dark-controls &:hover,
		.has-dark-controls &:focus,
		.has-dark-controls &:active {
			border-color: color.adjust($alert-red, $lightness: 30%);
		}

		.has-dark-controls &:focus {
			box-shadow: 0 0 0 1px color.adjust($alert-red, $lightness: 30%);
		}
	}

	&.has-error label.field-label {
		color: $alert-red;

		.has-dark-controls & {
			color: color.adjust($alert-red, $lightness: 30%);
		}
	}

	&:only-child {
		margin-top: 1.5em;
	}
}



// .wc-block-components-address-form__phone {
// 	position: relative;
// }

.iti--allow-dropdown {
	display: flex;
	width: 100%;
}

.iti--show-selected-dial-code .iti__selected-flag,
.iti--allow-dropdown .iti__flag-container:hover .iti__selected-flag {
	background-color: #fff;
	outline: 0;
}

.iti__selected-flag {
	border-radius: $universal-border-radius 0 0 $universal-border-radius;
	border: 0 !important;
}

.iti__tel-input {
	flex: 1;
	border: 1px solid rgba(17, 17, 17, 0.8) !important;
	border-left: 1px solid rgba(17, 17, 17, 0.8);
	border-radius: $universal-border-radius !important;
}


.iti--inline-dropdown .iti__dropdown-content {
	box-shadow: none;
	border-radius: $universal-border-radius;
}

.iti__search-input {
	border: 0 !important;
	border-radius: $universal-border-radius $universal-border-radius 0 0 !important;
	padding: 16px 8px !important;
}

.iti__flag-container {
	border: 0 !important;
}
